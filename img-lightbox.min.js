!function(e,t){"use strict";var n,o,a,i,r=t.body||"",s="classList",c=function(t){var n=t||"",o=e.location.protocol||"";return"http:"===o?"http":"https:"===o?"https":n?"http":""}(!0),l=function(e,t){var n,o,a,i;return function(){a=this,o=[].slice.call(arguments,0),i=new Date;var r=function(){var s=new Date-i;s<t?n=setTimeout(r,t-s):(n=null,e.apply(a,o))};n||(n=setTimeout(r,t))}},m=function(t){if(e.Promise)return new Promise(function(e,n){var o=function(t,o){t.onload=function(){e(o)},t.onerror=function(){n(o)},t.src=o};if("string"==typeof t)o(new Image,t);else{if("img"!==t.tagName)return Promise.reject();t.src&&o(t,t.src)}});throw new Error("Promise is not in global object")},d=function(e,n){var o=n||t.getElementsByTagName("body")[0]||"";if(e){var a=t.createDocumentFragment()||"";"string"==typeof e&&(e=t.createTextNode(e)),a.appendChild(e),o.appendChild(a)}},u=function(n,o){var a=o||"";return function(){var o=function(e){return e.replace(/^(#|\?)/,"").replace(/\:$/,"")},i=location||"",r=0===n.indexOf("//")||!!~n.indexOf("://"),s=e.location||"",c=function(){return s.protocol+"//"+s.hostname+(s.port?":"+s.port:"")||""},l=t.createElement("a");return l.href=n,{href:l.href,origin:c(),host:l.host||i.host,port:"0"===l.port||""===l.port?function(e){switch(e){case"http:":return a?":80":80;case"https:":return a?":443":443;default:return a?":"+i.port:i.port}}(l.protocol):a?l.port:o(l.port),hash:a?l.hash:o(l.hash),hostname:l.hostname||i.hostname,pathname:"/"!==l.pathname.charAt(0)?a?"/"+l.pathname:l.pathname:a?l.pathname:l.pathname.slice(1),protocol:l.protocol&&":"!==l.protocol?a?l.protocol:o(l.protocol):a?i.protocol:o(i.protocol),search:a?l.search:o(l.search),query:a?l.search:o(l.search),isAbsolute:r,isRelative:!r,isCrossDomain:function(){var e=t.createElement("a");return e.href=n,e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")!==c()}(),hasHTTP:!!/^(http|https):\/\//i.test(n)}}()},A=function(){var r=t.getElementsByClassName("img-lightbox-container")[0]||"",c=r?r.getElementsByTagName("img")[0]||"":"",l=function(){r[s].remove("fadeIn"),r[s].add("fadeOut");var e=function(){r[s].remove("animated"),r[s].remove("fadeOut"),c[s].remove("animated"),c[s].remove("fadeOutDown"),c.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",r.style.display="none"},t=setTimeout(function(){clearTimeout(t),t=null,e()},400)};if(r&&c){r.removeEventListener("click",n),r.removeEventListener("click",a),e.removeEventListener("keyup",o),e.removeEventListener("keyup",i),c[s].remove("fadeInUp"),c[s].add("fadeOutDown");var m=setTimeout(function(){clearTimeout(m),m=null,l()},400)}},h=function(e,t){"function"==typeof e&&e.bind(this)(t)};n=function(n){(t.getElementsByClassName("img-lightbox-container")[0]||"")&&(A(),h(n,e))},o=function(t,n){27===(n.which||n.keyCode)&&(A(),h(t,e))};e.imgLightbox=function(A,p){var f=A&&A.nodeName?A:"",g=p||{},v=f?f.getElementsByClassName("img-lightbox-link")||"":t.getElementsByClassName("img-lightbox-link")||"",E=t.getElementsByClassName("img-lightbox-container")[0]||"",C=E?E.getElementsByTagName("img")[0]||"":"";E||(E=t.createElement("div"),(C=t.createElement("img")).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",C.alt="",E.appendChild(C),E[s].add("img-lightbox-container"),d(E,r));if(v)for(var b=0,y=v.length;b<y;b+=1)!function(t){if(!t[s].contains("is-binded-img-lightbox-link")){var r=t.getAttribute("href")||"";r&&(u(r).isAbsolute&&!u(r).hasHTTP&&t.setAttribute("href",r.replace(/^/,c+":")),t.addEventListener("click",function(t){t.stopPropagation(),t.preventDefault();var r=this;l(function(){var t=r.getAttribute("href")||"";E&&C&&t&&(g.onCreated&&h(g.onCreated,e),E[s].add("animated"),E[s].add("fadeIn"),C[s].add("animated"),C[s].add("fadeInUp"),u(t).isAbsolute&&!u(t).hasHTTP&&(t=t.replace(/^/,c+":")),m(t).then(function(){C.src=t,g.onLoaded&&h(g.onLoaded,e)}).catch(function(n){console.log("cannot load image with imagePromise:",t,n),g.onError&&h(g.onError,e)}),g.onClosed?(a=n.bind(null,g.onClosed),i=o.bind(null,g.onClosed),E.addEventListener("click",a),e.addEventListener("keyup",i)):(E.addEventListener("click",n),e.addEventListener("keyup",o)),E.style.display="block")},200)()}),t[s].add("is-binded-img-lightbox-link"))}}(v[b])}}("undefined"!=typeof window?window:this,document);